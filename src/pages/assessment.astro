---
import { Container, TextSection } from '@components/odyssey-theme';
import Layout from '../layouts/Page.astro';

const seo = {
	title: 'Assessment | NMES for Astronauts',
	description: 'Test your knowledge about NMES and astronaut health',
};
---

<Layout seo={seo}>
	<Container>
		<TextSection narrow>
			<h1>Assessment</h1>
			<p>
				Test your understanding of the material presented in this course.
			</p>

      <div class="quiz-container">
        <form id="quiz-form">
          <div class="question">
            <h3>1. What is the primary cause of muscle degradation in space?</h3>
            <label><input type="radio" name="q1" value="a"> Radiation exposure</label>
            <label><input type="radio" name="q1" value="b"> Lack of mechanical loading</label>
            <label><input type="radio" name="q1" value="c"> Poor nutrition</label>
          </div>

          <div class="question">
            <h3>2. Which muscles are most severely affected by microgravity?</h3>
            <label><input type="radio" name="q2" value="a"> Arm muscles</label>
            <label><input type="radio" name="q2" value="b"> Facial muscles</label>
            <label><input type="radio" name="q2" value="c"> Anti-gravity muscles (legs and spine)</label>
          </div>

          <div class="question">
            <h3>3. How does NMES help maintain muscle mass?</h3>
            <label><input type="radio" name="q3" value="a"> By providing electrical impulses to induce contraction</label>
            <label><input type="radio" name="q3" value="b"> By increasing blood flow only</label>
            <label><input type="radio" name="q3" value="c"> By cooling the muscles</label>
          </div>

          <button type="submit" id="submit-btn">Submit Answers</button>
        </form>

        <div id="result" class="result hidden"></div>
      </div>
		</TextSection>
	</Container>
</Layout>

<style>
  .quiz-container {
    background: var(--theme-surface-1);
    padding: 2rem;
    border-radius: var(--theme-shape-radius);
    border: 1px solid var(--theme-surface-2);
  }

  .question {
    margin-bottom: 2rem;
  }

  .question h3 {
    margin-bottom: 1rem;
  }

  .question label {
    display: block;
    margin-bottom: 0.5rem;
    cursor: pointer;
  }

  .question input {
    margin-right: 0.5rem;
  }

  .result {
    margin-top: 2rem;
    padding: 1rem;
    border-radius: 8px;
    font-weight: bold;
  }

  .result.success {
    background-color: #d4edda;
    color: #155724;
  }

  .result.error {
    background-color: #f8d7da;
    color: #721c24;
  }

  .hidden {
    display: none;
  }
</style>

<script>
  const form = document.getElementById('quiz-form');
  const result = document.getElementById('result');

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const answers = {
      q1: 'b',
      q2: 'c',
      q3: 'a'
    };

    let score = 0;
    const formData = new FormData(form);

    for (const [question, answer] of Object.entries(answers)) {
      if (formData.get(question) === answer) {
        score++;
      }
    }

    result.classList.remove('hidden', 'success', 'error');
    
    if (score === 3) {
      result.textContent = `Perfect! You got ${score}/3 correct.`;
      result.classList.add('success');
    } else {
      result.textContent = `You got ${score}/3 correct. Review the material and try again.`;
      result.classList.add('error');
    }
  });
</script>
